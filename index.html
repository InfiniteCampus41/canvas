<html>
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-7SV03ZXJ9R">
        </script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-7SV03ZXJ9R');
        </script>
        <title>
            Southeast Polk Video Game Club Information
        </title>
        <link rel="icon" type="image/png" href="https://www.southeastpolk.org/wp-content/uploads/2025/01/social-logo.png">
        <link rel="stylesheet" href="global.css">
    </head>
<body>
  <h1>SE Polk Video Game Club Application</h1>
  <br>
  <h2>We Need At Least 20 Student Members And 1 Teacher To Be Recognized As A Club<br> With Your Help We Can Acheive This Goal<br><a href="apply.html">Apply Here!</a></h2>
  <h3>Total Members: <span id="memberCount">0</span></h3>
  <table border="1" id="memberTable">
    <tr><th>Name</th><th>Email</th></tr>
    <tr><td>Ryan Newsom</td><td>44736@student.southeastpolk.org</td></tr>
    <tr><td>Ayden King</td><td>48161@student.southeastpolk.org</td></tr>
    <tr><td>Joshua Low</td><td>52688@student.southeastpolk.org</td></tr>
    <tr><td>Matthew Maxfield</td><td>48349@student.southeastpolk.org</td></tr>
    <tr><td>Levi Foster</td><td>55581@student.southeastpolk.org</td></tr>
    <tr><td>Ethan Kray</td><td>44743@student.southeastpolk.org</td></tr>
    <tr><td>Jesus Diaz</td><td>45749@student.southeastpolk.org</td></tr>
  </table>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-database.js";
    const firebaseConfig = {
      apiKey: "AIzaSyDMj318tH4QzLvK-HSh8v8qobVnxM0Lmns",
      authDomain: "discord-bot-5d5b1.firebaseapp.com",
      databaseURL: "https://discord-bot-5d5b1-default-rtdb.firebaseio.com", 
      projectId: "discord-bot-5d5b1",
      storageBucket: "discord-bot-5d5b1.firebasestorage.app",
      messagingSenderId: "300539295561",
      appId: "1:300539295561:web:d0fd8d48f48fcc94764c98",
      measurementId: "G-RTS81NC93R"
    };
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const table = document.getElementById("memberTable");
    const memberCount = document.getElementById("memberCount");
    onValue(ref(db, "members"), (snapshot) => {
      while (table.rows.length > 8) table.deleteRow(3);
      let count = 7;
      const data = snapshot.val();
      if (data) {
        Object.values(data).forEach(member => {
          const row = table.insertRow();
          row.insertCell(0).textContent = member.name;
          row.insertCell(1).textContent = member.email;
          count++;
        });
      }
      memberCount.textContent = count;
    });
  </script>
</body>
</html>
